{% extends 'base.html' %}
{% block body %}

{% with messages = get_flashed_messages() %}
{% if messages %}
{% for message in messages%}
<div class="alert alert-success" role="alert">
  {{ message }}
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endfor %}
{% endif %}
{% endwith %}

<div class="container-fluid text-center" >
  <div class="row align-items-start">
    {% if pedidos %}
    <h1>Pedidos Realizados</h1>
    <div class="col">
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Numero de Pedido</th> 
            <th scope="col">Fecha de Pedido</th>            
            <th scope="col">Observaciones</th>
            <th scope="col">Nombre de Cliente</th> 
            <th scope="col">Apellido de Cliente</th> 
            <th scope="col">Cedula de Cliente</th> 
            <th scope="col">Calle Principal</th> 
            <th scope="col">Calle Secundaria</th> 
            <th scope="col">Provincia</th>             
            <th scope="col">Ciudad</th> 
            <th scope="col">Marca</th>
            <th scope="col">Modelo</th>
            <th scope="col">Precio del Celular</th> 
            <th scope="col">Subtotal por Producto</th> 
            <th scope="col">Cantidad del Pedido</th>
            <th scope="col">IVA</th>
            <th scope="col">Total del Pedido</th>            
          </tr>
          <tr>
            
          </tr>
        </thead>
        <tbody>
          {% for pedido in pedidos %}
          <tr>
            <th scope="row" class="text-center">0000 - {{ pedido[0] }}</th>
            <td class="text-center">{{ pedido[1] }}</td>
            <td class="text-center">{{ pedido[3] }}</td>
            <td class="text-center">{{ pedido[13] }}</td>
            <td class="text-center">{{ pedido[14] }}</td>
            <td class="text-center">{{ pedido[12] }}</td>
            <td class="text-center">{{ pedido[8] }}</td>
            <td class="text-center">{{ pedido[9] }}</td>
            <td class="text-center">{{ pedido[10] }}</td>
            <td class="text-center">{{ pedido[11] }}</td>
            <td class="text-center">{{ pedido[5] }}</td>
            <td class="text-center">{{ pedido[6] }}</td>
            <td class="text-center">{{ pedido[7] }}</td>            
            <td class="text-center">{{ pedido[15] }}</td>          
            <td class="text-center">{{ pedido[4] }}</td>                                    
            <td class="text-center">{{ pedido[16] }}</td>  
            <td class="text-center">{{ pedido[2] }}</td>            
          </tr>
          <tr>
            <th scope="col">Acciones</th>                        
            <th scope="col">---</th>                        
          </tr>
          <tr>
            <td><a href="actualizar_pedido/{{ pedido[0] }}" class="btn btn-primary">Editar</a></td>
            <td><a href="eliminar_pedido/{{ pedido[0] }}" class="btn btn-primary">Eliminar</a></td>             
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <a href="{{url_for('pedido.generar_reporte_ped')}}">Generar reporte PDF</a>
    {% else %}
    <div class="alert alert-info" role="alert">
      Lista Vacia, no hay Pedidos Registrados.
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}